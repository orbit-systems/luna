/*
bindings (visiblity):
    local       default; visible within object
    global      visible to other object files
    weak        visible to other object files but can be overridden by a global symbol with the same name

relocs:
    location    default for labels; symbol value is changed based on its relative position within a section
    absolute    default for .symbol delcarations; symbol value does not change during relocation. a label cannot have absolute binding.
*/

.global this_random_function_pointer

.declare a_random_symbol 300    // create and set symbol "a_random_symbol" to 300
.global  a_random_symbol        // make the symbol visible to other object code files

.section "code" {
    this_random_function_code:
        li      ra, some_data   // load ra with value of some_data (address)
        lw      rb, [ra]        // load rb with value AT ra
        add     rb, rb, 10      // increment by 10
        sw      [ra], rb        // store it back
        ret
}

.section "data" {
    some_data:
        u64     0xCAFEF00D
}

.section "rodata" {
    this_random_function_pointer:
        u64     this_random_function_code
    a_string:
        utf8    "bruh"
}

// a blank type section won't actually take up any space in the object file and will be zeroed.
// blank has the same default perms as regular sections wtih "data" as their name
.blank "bss" {
    some_big_struct: 
        byte    0, 60   // make 60 bytes of zero
        u32     23201   // this will still get zeroed but emit a warning
}

.metadata {
    "arbitrary" = "pairs",
    "of keys"   = "and values",
}
lex
parse
symbol/range estimation (for efficient macro expansion)
macro expansion
symbol trace
build binary